const API_KEY = 'https://www.themealdb.com/api/json/v1/1/search.php?s=Arrabiata'; // Replace with your actual API key

async function searchRecipes() {
  const query = document.getElementById('searchInput').value;
  const resultsDiv = document.getElementById('results');
  resultsDiv.innerHTML = 'Loading...';

  try {
    const response = await fetch(`https://www.themealdb.com/recipes/complexSearch?query=${query}&number=10&apiKey=${API_KEY}`);
    const data = await response.json();

    resultsDiv.innerHTML = '';
    if (data.results.length === 0) {
      resultsDiv.innerHTML = 'No recipes found.';
      return;
    }

    data.results.forEach(recipe => {
      const recipeDiv = document.createElement('div');
      recipeDiv.className = 'recipe';
      recipeDiv.innerHTML = `
        <img src="${recipe.image}" alt="${recipe.title}">
        <h3>${recipe.title}</h3>
        <a href="https://www.themealdb.com/recipes/${recipe.title.replace(/\s+/g, '-').toLowerCase()}-${recipe.id}" target="_blank">View Recipe</a>
      `;
      resultsDiv.appendChild(recipeDiv);
    });
  } catch (error) {
    resultsDiv.innerHTML = 'Error fetching recipes.';
    console.error(error);
  }
}
